<?xml version="1.0"?>
<!DOCTYPE wizard-schema PUBLIC "-//MMBase/DTD editwizard 1.0//EN" "http://www.mmbase.org/dtd/wizard-schema_1_0.dtd">
<wizard-schema id="edit-page">
	<title>Package</title>
	<task-description>Wizard to edit packages.</task-description>
	
	<action type="create">
		<object type="packages">
		  <relation role="posrel" destination="{$origin}" />
		  <field name="versionnumber">0</field>
		  <field name="rating">1</field>
		</object>
	</action>
	
	<action type="delete">
		<prompt>Are you sure you want to remove this package?</prompt>
		<description>Click to remove permanently.</description>
	</action>

	<action type="load">
		<relation destination="packagetypes" role="related" />
		<relation destination="urls" role="related" />
		<relation destination="attachments" role="related" />
		<relation destination="persons" role="rolerel" />
		<relation destination="organisation" role="rolerel" />
		<relation destination="licenceinfos" role="related" />
	</action>

	<lists>
	  <optionlist include="wizards/persons/list_persons_rolerel.xml" />
	  <optionlist include="wizards/organisation/list_organisation_rolerel.xml" />
	</lists>
	
	<steps>
		<step form-schema="edit" />
	</steps>
	
	<form-schema id="edit">
		<title>Package</title>
		<field name="name" dtminlength="1">
			<prompt>Package</prompt>
			<description>Name of the package</description>
		</field>
		<field name="description" rows="5">
			<prompt>Description</prompt>
			<description>Description of the package</description>
		</field>
	    <field name="creationdate" dttype="date">
	    	<prompt>Creationdate</prompt>
			<description>Date the package was created</description>
	    </field>
	    <field name="versionnumber" dtrequired="false">
	    	<prompt>Version</prompt>
			<description>Versionnumber of the package</description>
	    </field>
	    <field name="rating">
	    	<prompt>Rating</prompt>
			<description>Rating of the package</description>
	    </field>
		<list include="wizards/licenceinfos/add_licenceinfos.xml" />
		<list include="wizards/packagetypes/add_packagetypes.xml" />
		<list include="wizards/organisation/add_organisation_rolerel.xml" />
		<list include="wizards/persons/add_persons_rolerel.xml" />
		<list include="wizards/urls/add_urls_related.xml" />
		<list include="wizards/attachments/add_attachments.xml" />
	</form-schema>
</wizard-schema> 
